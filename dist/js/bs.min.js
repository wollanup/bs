/*! wollanupjs 10-07-2018 */

this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates["Bs/View/Alert/alert"]=Handlebars.template({1:function(e,t,n,o,i){return" alert-dismissible"},3:function(e,t,n,o,i){return'\t<button style="position: relative; z-index: 2" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n'},5:function(e,t,n,o,i){var r,s,a=null!=t?t:e.nullContext||{};return"\t\t\t<h4 "+(null!=(r=n.if.call(a,null!=t?t.translateTitle:t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?r:"")+">\n\t\t\t\t"+e.escapeExpression("function"==typeof(s=null!=(s=n.title||(null!=t?t.title:t))?s:n.helperMissing)?s.call(a,{name:"title",hash:{},data:i}):s)+"\n\t\t\t</h4><br>\n"},6:function(e,t,n,o,i){var r;return'data-i18n="'+e.escapeExpression("function"==typeof(r=null!=(r=n.title||(null!=t?t.title:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:i}):r)+'"'},8:function(e,t,n,o,i){var r;return'data-i18n="'+e.escapeExpression("function"==typeof(r=null!=(r=n.msg||(null!=t?t.msg:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"msg",hash:{},data:i}):r)+'"'},10:function(e,t,n,o,i){var r,s;return null!=(r="function"==typeof(s=null!=(s=n.msg||(null!=t?t.msg:t))?s:n.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"msg",hash:{},data:i}):s)?r:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){var r,s,a=null!=t?t:e.nullContext||{},l=n.helperMissing,p=e.escapeExpression;return'<div class="alert alert-'+p("function"==typeof(s=null!=(s=n.type||(null!=t?t.type:t))?s:l)?s.call(a,{name:"type",hash:{},data:i}):s)+(null!=(r=n.if.call(a,null!=t?t.dismissible:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+'" role="alert">\n\t<div style="position: absolute;top: 0;bottom: 0;left: 0;right: 0;overflow: hidden;z-index:1">\n\t\t<i style="position: absolute;bottom: -30px;right:-30px;font-size:10em;opacity: .2;display:none" class="alert-icon '+p("function"==typeof(s=null!=(s=n.icon||(null!=t?t.icon:t))?s:l)?s.call(a,{name:"icon",hash:{},data:i}):s)+'"></i>\n\t</div>\n'+(null!=(r=n.if.call(a,null!=t?t.dismissible:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?r:"")+'\t<div style="position: relative; z-index: 2">\n\n'+(null!=(r=n.if.call(a,null!=t?t.hasTitle:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?r:"")+'\n\t\t<div class="content" '+(null!=(r=n.if.call(a,null!=t?t.translate:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?r:"")+">\n\t\t\t"+(null!=(r=n.unless.call(a,null!=t?t.translate:t,{name:"unless",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?r:"")+"\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.Handlebars.templates["Bs/View/Alert/Toast/toast"]=Handlebars.template({1:function(e,t,n,o,i){return" toast-dismissible"},3:function(e,t,n,o,i){return'\t<button style="position: relative; z-index: 2" type="button" class="close" data-dismiss="toast"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n'},5:function(e,t,n,o,i){var r,s,a=null!=t?t:e.nullContext||{};return"\t\t\t<h4 "+(null!=(r=n.if.call(a,null!=t?t.translateTitle:t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?r:"")+">\n\t\t\t\t"+e.escapeExpression("function"==typeof(s=null!=(s=n.title||(null!=t?t.title:t))?s:n.helperMissing)?s.call(a,{name:"title",hash:{},data:i}):s)+"\n\t\t\t</h4><br>\n"},6:function(e,t,n,o,i){var r;return'data-i18n="'+e.escapeExpression("function"==typeof(r=null!=(r=n.title||(null!=t?t.title:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:i}):r)+'"'},8:function(e,t,n,o,i){var r;return'data-i18n="'+e.escapeExpression("function"==typeof(r=null!=(r=n.msg||(null!=t?t.msg:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"msg",hash:{},data:i}):r)+'"'},10:function(e,t,n,o,i){var r,s;return null!=(r="function"==typeof(s=null!=(s=n.msg||(null!=t?t.msg:t))?s:n.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"msg",hash:{},data:i}):s)?r:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){var r,s,a=null!=t?t:e.nullContext||{},l=n.helperMissing,p=e.escapeExpression;return'<div class="toast toast-'+p("function"==typeof(s=null!=(s=n.type||(null!=t?t.type:t))?s:l)?s.call(a,{name:"type",hash:{},data:i}):s)+(null!=(r=n.if.call(a,null!=t?t.dismissible:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+'" role="alert">\n\t<div style="position: absolute;top: 0;bottom: 0;left: 0;right: 0;overflow: hidden;z-index:1">\n\t\t<i style="position: absolute;bottom: -30px;right:-30px;font-size:10em;opacity: .2;display:none" class="alert-icon '+p("function"==typeof(s=null!=(s=n.icon||(null!=t?t.icon:t))?s:l)?s.call(a,{name:"icon",hash:{},data:i}):s)+" text-"+p("function"==typeof(s=null!=(s=n.type||(null!=t?t.type:t))?s:l)?s.call(a,{name:"type",hash:{},data:i}):s)+'"></i>\n\t</div>\n'+(null!=(r=n.if.call(a,null!=t?t.dismissible:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?r:"")+'\t<div style="position: relative; z-index: 2">\n\n'+(null!=(r=n.if.call(a,null!=t?t.hasTitle:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?r:"")+'\n\t\t<div class="content" '+(null!=(r=n.if.call(a,null!=t?t.translate:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?r:"")+">\n\t\t\t"+(null!=(r=n.unless.call(a,null!=t?t.translate:t,{name:"unless",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?r:"")+"\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.Handlebars.templates["Bs/View/Collection/Empty/empty"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){return'<div class="text-center text-muted">\n\t<div style="margin: 30px 0">\n\t\t<span class="fa fa-meh-o fa-5x" style="opacity: .4"></span>\n\t\t<div style="margin-top: 15px">\n\t\t\t<i data-i18n="nothingToDisplay"></i>\n\t\t</div>\n\n\t</div>\n</div>\n'},useData:!0}),this.Handlebars.templates["Bs/View/Collection/Error/error"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){return'<div class="text-center text-danger">\n\t<div style="margin: 30px 0">\n\t\t<span class="fa fa-warning fa-5x" style="opacity: .4"></span>\n\t\t<div style="margin-top: 15px">\n\t\t\t<i data-i18n="error"></i>\n\t\t</div>\n\t</div>\n</div>\n'},useData:!0}),this.Handlebars.templates["Bs/View/Loading/loading"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){var r,s;return'<div class="loading-spinner-outer">\n\t<div class="spinner">\n\t\t<div class="bounce1"></div>\n\t\t<div class="bounce2"></div>\n\t\t<div class="bounce3"></div>\n\t</div>\n</div>\n<div class="loading-text">'+(null!=(r="function"==typeof(s=null!=(s=n.text||(null!=t?t.text:t))?s:n.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"text",hash:{},data:i}):s)?r:"")+"</div>\n"},useData:!0}),this.Handlebars.templates["Bs/View/Modal/modal"]=Handlebars.template({1:function(e,t,n,o,i){return'\t\t\t\t\t\t<button type="button" class="close pull-right view-close" data-dismiss="modal"\n\t\t\t\t\t\t        aria-label="Close">\n\t\t\t\t\t\t\t<small class="text-uppercase" data-i18n="close"></small>\n\t\t\t\t\t\t\t<span class="fa fa-times-thin"></span>\n\t\t\t\t\t\t</button>\n'},3:function(e,t,n,o,i){return"no-padding"},compiler:[7,">= 4.0.0"],main:function(e,t,n,o,i){var r,s=null!=t?t:e.nullContext||{};return'<div class="modal fade">\n\t<div class="modal-dialog">\n\t\t<div class="modal-content">\n\t\t\t<div class="modal-header">\n\t\t\t\t<h4 class="modal-title text-primary">\n\t\t\t\t\t<span class="modal-title-main" data-i18n="title"></span>\n\t\t\t\t\t<small class="modal-title-sub" data-i18n="subTitle"></small>\n'+(null!=(r=n.if.call(s,null!=t?t.closable:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+'\t\t\t\t</h4>\n\t\t\t</div>\n\t\t\t<div class="modal-body '+(null!=(r=n.unless.call(s,null!=t?t.bodyPadding:t,{name:"unless",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?r:"")+'">\n\t\t\t\t<div class="modal-icon-wrap">\n\t\t\t\t\t<i class="modal-icon text-primary"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="view-content" data-create></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},useData:!0}),function(e){"use strict";window.console||(window.console={},window.console.log=function(){},window.console.warn=function(){},window.console.error=function(){},window.console.info=function(){}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,o=this.length;n<o;n++)if(this[n]===e)return n;return-1});var t=!1,n={};n.async=function(e){return t=e,this},n.isAsync=function(){return t},n.init=function(n){f=new e.Deferred,this.setConfig(n),e(function(){t=!0,f.resolve()})},n.ready=function(t){null!==f?e.when(f).then(function(){t()}):console.error("Bs has not been initialized. Please call Bs.init()")},n.setConfig=function(t){e.extend(s,t),n.setDebug(s.debug),s.dev&&n.setDev(!0)},n.setDebug=function(e){s.debug=e,e?(n._dependenciesLoaded=u,n._store=a,n._storeLib=l,n._dependencies=d):(n._dependenciesLoaded=void 0,n._store=void 0,n._storeLib=void 0,n._dependencies=void 0)},n.requirePackage=function(o,i,r){var a,l,p=[];if("function"==typeof i&&(r=i,i=[]),"string"==typeof i&&(i=[i]),r=r||function(){},n.isDev())i.length?n.require(i,r):r();else{"string"==typeof o&&(o=[o]),t=!1;for(var u,d=0;u=o[d];d++)a=g(s.urlDist+"/"+u+".min.js"),function(e){a.fail(function(t,n,o){throw console.error('Error in "'+e+'" package JS : '+n),o})}(u),p.push(a),l=n.Stylesheet.load(s.urlDist+"/"+u+".min.css"),function(e){l.fail(function(t,n,o){throw console.error('Error in "'+e+'" package CSS: '+n),o})}(u),p.push(l);e.when.apply(e,p).then(function(){t=!0,r()})}},n.require=function(t,i){var r;return"string"==typeof t&&(t=[t]),i=i||function(){},t.length?(h.push(new e.Deferred),0===(r=h.length-1)?o(t,i,r):e.when(h[r-1]).then(function(){o(t,i,r)}),n):(i.apply(null,[]),n)};var o=function(t,o,i){var r=[];u[i]=new e.Deferred,d={};for(var s,a=0;s=t[a];a++)P(s),function(e){r.push(function(t){return n.create(e,t)})}(s);C(i),e.when(u[i]).then(function(){h[i].resolve(),h[i]=null,V(t.join(", ")+" READY"),o.apply(null,r)})},i=function(t){var n,o=0,i=0,r=new e.Deferred;for(n in t)t.hasOwnProperty(n)&&(l.hasOwnProperty(n)?delete t[n]:o++);if(0===o)r.resolve();else{r.progress(function(){++i===o&&r.resolve()});for(n in t)t.hasOwnProperty(n)&&function(e){var n=s.urlApp+"/"+t[e];g(n).done(function(){l[e]=!0,r.notify()}).fail(function(){throw new Error("[Bs] Required lib "+e+" at "+n+" not found or error during JS eval.")})}(n)}return r};n.define=function(o,r,s){if(s=s||function(){},!t)return S(o,r),void s(a[o]);var l,p,u;if(V(o+" is being defined, check for dependencies"),r=e.extend({},$,r),r.require=T(r.require),p=i(r.requireLib),l=r.require,r.extend&&(l=n.Util.arrayUnion(l,[r.extend])),(u=O(l)).length){V(u+" dependencies found for "+o);for(var c,f=0;c=u[f];f++)P(c,null,o)}else A(o),d[o].dfdRequire.resolve(),V("No dependency found for "+o);e.when(d[o].dfdRequire,p).then(function(){if(V("All dependencies have been loaded for "+o),r.extend){var t=new e.Deferred;a[r.extend]?t.resolve():b(r.extend,t),e.when(t).then(function(){a[r.extend].define(o,r,function(t,n){if(n&&n.length){for(var i,r=0;i=n[r];r++)d.hasOwnProperty(i)||P(i);e.when(d[o].dfdRequire).then(function(){D(t,o,s),d[o].dfdDefine.resolve(),s(a[o])})}else D(t,o,s),d[o].dfdDefine.resolve(),s(a[o])})})}else D(r,o,s),d[o].dfdDefine.resolve(),s(a[o])})},n.create=function(e,t){if(!1===y(e))throw new Error('Unable to create "'+e+'" not previously loaded, use "Bs.require()" before');return w(e),delete d[e],"function"==typeof a[e]?new a[e](t):a[e]},n.unload=function(e){delete a[e]},n.getConfig=function(e){return e?s.hasOwnProperty(e)?s[e]:null:s},n.isDebug=function(){return s.debug},n.storeCmp=function(e){p[e.id]=e},n.getCmp=function(e,t,n){return p.hasOwnProperty(e)?((t=t||function(){}).call(p[e],p[e]),p[e]):((n=n||function(){})(),null)},n.hasCmp=function(e){return p.hasOwnProperty(e)},n.removeCmp=function(e){p.hasOwnProperty(e)&&delete p[e]},n.register=function(e,t,n){return m(e,t,n)},n.getClass=function(e){return a[e]},n.isDev=function(){return r},n.setDev=function(e){return console.log(e?"%c .:Bs DEV MODE:. ":" %cDEV MODE OFF",(e?"color: #00ff00":"color: #ff0000")+";background: #333;font-size:2em;border:3px solid #00ff00;"),r=e,this},n.Util={arrayUnion:function(t,n){"object"!=typeof t&&(t=[]),"object"!=typeof n&&(n=[]);var o={},i=[];return e.each(e.merge(e.merge([],t),n),function(e,t){o[t]=t}),e.each(o,function(e){i.push(e)}),i},arrayFromString:function(e){return"string"==typeof e?[e]:e},addPrefixIfMissing:function(e,t){return-1===t.indexOf(e)?e+"."+t:t},String:{ucfirst:function(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}}};var r=!1,s={api:"api",urlCore:"",urlApp:"",urlDist:"",debug:!1,dev:!1,initLang:!0,lang:{}},a={},l={},p={},u=[],d={},c={},f=null,h=[],y=function(e){return a.hasOwnProperty(e)},g=function(t,n){return n=e.extend(n||{},{dataType:"script",cache:!0,url:t}),jQuery.ajax(n)},m=function(e,t,o){var i,r,s=t.construct?t.construct():t,l=e.split("."),p=0;for("Bs"===l[0]?i=n:(void 0===window[l[0]]&&(window[l[0]]={}),i=window[l[0]]),l=l.slice(1);p<l.length-1;)void 0===i[l[p]]&&(i[l[p]]={}),i=i[l[p]],p++;if(r=l[l.length-1],"object"==typeof i[r]){var u=i[r];i[r]=s;for(var d in u)u.hasOwnProperty(d)&&(i[r][d]=u[d])}else i[r]=s;return a[e]=i[r],o&&(window[o]=a[e]),V(e+" has been defined"),s},v=function(e){var t,n=e.split(".");return t=("Bs"===n[0]?s.urlCore+"/Bs/src":s.urlApp)+"/",e.indexOf("View")>-1?(n=n[n.length-1],t+=e.replace(/\./g,"/")+"/"+n+".js"):t+=e.replace(/\./g,"/")+".js",t},w=function(e){d.hasOwnProperty(e)&&0===d[e].dependencies.length&&d[e].dfdRequire.resolve();var t;for(var n in d)if(!1!==d.hasOwnProperty(n)&&(t=d[n].dependencies,"resolved"!==d[n].dfdRequire.state())){for(var o,i=0;o=t[i];i++)o===e&&t.splice(i,1);0===t.length&&w(n)}},b=function(e,t){V("... Waiting for "+e+"..."),setTimeout(function(){!0===y(e)?t.resolve():b(e,t)},10)},B=function(e){for(var t in d)if(!1!==d.hasOwnProperty(t)){if(t===e)return!0;for(var n,o=0;n=d[t].dependencies[o];o++)if(n===e)return!0}return!1},P=function(t,n,o){var i,r=!1;if(n=n||function(){},V(t+" has been required"),y(t))V(t+" is already defined");else{if(B(t)){d[t]&&d[t].dependencies&&(i=d[t].dependencies.indexOf(o))>-1&&(c[o]=t,V(t+" is a circular reference in "+o),d[t].dependencies.splice(i,1)),r=!0;var s=new e.Deferred;b(t,s),e.when(s).then(function(){x(t,n)})}if(o?A(o,t):A(t),!r){var a=v(t);g(a).fail(function(){console.error('"'+t+'" not found @"'+a+'" or error during JS eval.')}).done(function(){e.when(d[t].dfdDefine).then(function(){x(t,n)})})}}},C=function(){var e,t,n=0;for(e in d)!1!==d.hasOwnProperty(e)&&n++;0===n&&(t=u.length-1,u[t].resolve())},x=function(e,t){t=t||function(){},V(e+" and its dependencies are ready"),w(e),delete d[e],t(a[e]),C()},A=function(t,n){(n=n||null)&&c[t]===n&&w(t),d.hasOwnProperty(t)?(d[t].dfdRequire=new e.Deferred,d[t].dfdDefine=new e.Deferred):d[t]={dependencies:[],dfdRequire:new e.Deferred,dfdDefine:new e.Deferred},n&&d[t].dependencies.push(n)},$={require:[],alias:!1,extend:!1,construct:!1},O=function(e){for(var t,n=[],o=0;t=e[o];o++)!1===y(t)&&n.push(t);return n},V=function(e){s.debug&&console.log(e)},T=function(e){return"string"==typeof e?[e]:e},D=function(e,t){m(t,e,e.alias)},E={},S=function(t,n){var o;if((n=e.extend({},$,n)).extend)if(a[n.extend]){if(o=a[n.extend].define(t,n),D(o,t),E.hasOwnProperty(t))for(var i in E[t])E[t].hasOwnProperty(i)&&S(i,E[t][i])}else!1===E.hasOwnProperty(n.extend)&&(E[n.extend]={}),E[n.extend][t]=n;else D(n,t)};window.Bs=n}(jQuery),Bs.define("Bs.Lang",{construct:function(){var e=[],t="/__ns__/lng/__lng__.json",n={load:"unspecific",getAsync:!0,fallbackLng:!1,fallbackToDefaultNS:!0,ns:"Translation",shortcutFunction:"sprintf",useDataAttrOptions:!0,resGetPath:Bs.getConfig().urlApp+t},o=[];return{init:function(e,i){return i=i||function(){},e=$.extend({},n,e),e.resGetPath=e.ns?Bs.getConfig().urlApp+t:n.resGetPath,i18n.init(e,function(){for(var e,t=0;e=o[t];t++)i18n.addResourceBundle(e.lng,e.ns,e.resource);i()})},addResourceBundle:function(e,t,n){return o.push({lng:e,ns:t,resource:n}),i18n.addResourceBundle(e,t,n)},set:function(e,t){t=t||function(){},e!==i18n.lng()?(document.cookie="i18next="+e,i18n.setLng(e,function(){Bs.Lang.translateAll(),t()})):t()},get:function(e){return e?i18n.options.lng:i18n.options.lng.split("-")[0]},translateAll:function(e){return(e=e||$("[data-i18n]")).i18n(),e},t:function(e,t){return i18n.t(e,t)},loadNamespace:function(n,o,i){var r=function(){};return i||(i=o,o=null),o&&(i18n.options.resGetPath=o+t),i=i||function(){},e.indexOf(n)>-1?(r(),void i()):i18n.loadNamespace(n,function(){e.push(n),r(),i()})},loadNamespaces:function(t,n){var o=[];for(var i in t)t.hasOwnProperty(i)&&e.indexOf(t[i])>-1&&o.push(t[i]);if(0!==t.length){var r=[];for(var s in t)t.hasOwnProperty(s)&&(r[s]=$.Deferred(),function(t,n){i18n.loadNamespace(t,function(){e.push(t),n.resolve(!0)})}(t[s],r[s]));$.when.apply($,r).then(function(){n()})}else n()}}}}),Bs.define("Bs.Api",{require:"Bs.Response",construct:function(){function e(){}var t="USR",n=function(e){var n=Bs.getConfig().api;return t&&(n+="/"+t),e&&("/"!==e.charAt(0)&&(n+="/"),n+=e),n},o=function(e){var t={done:function(){},fail:function(e,t){e=t.responseJSON,"application/problem+json"===t.getResponseHeader("Content-Type")&&Bs.require("Bs.View.Alert.Toast",function(){Bs.View.Alert.Toast.apiProblem(e)})},always:function(){},then:function(){},loadComponent:function(e,t){Bs.create(e,{options:{response:t,request:t.getRequest()}})}};return"function"==typeof e?t.done=e:"object"==typeof e&&(t.done=e.done||t.done,t.fail=e.fail||t.fail,t.always=e.always||t.always,t.then=e.then||t.then,t.loadComponent=e.loadComponent||t.loadComponent),t},i=function(e,t){var n;return e=o(e),n={type:"GET",url:"",data:null,dataType:"json",headers:r},$.extend(n,t),$.ajax(n).always(function(t,n,o){var i="success"!==n?t.responseJSON:t,r="success"!==n?t:o,s=Bs.create("Bs.Response",i);s.hasComponent()&&(s.requireComponent(function(t){console.info("Server response requires a component"),e.loadComponent(t,s)}),s.hasForkComponent())||(r.done(function(){e.done(s)}),r.fail(function(){e.fail(s,r)}),r.always(function(){e.always(s)}),r.then(function(){e.then(s)}))})},r={};return e.stringifyPK=function(e){return e.join("-")},e.setSessionType=function(e){return t=e,this},e.getSessionType=function(){return t},e.setAuthToken=function(e){return r["Auth-Token"]=e,this},e.setAuthorization=function(e){return r.Authorization=e,this},e.getAuthToken=function(){return r.hasOwnProperty("Auth-Token")?r["Auth-Token"]:""},e.getAuthorization=function(){return r.hasOwnProperty("Authorization")?r.Authorization:""},e.url=function(e){return n(e)},e.call=function(e,t){return i(t,e)},e.get=function(e,t,o){return"function"==typeof t&&(o=t,t=null),i(o,{type:"GET",url:n(e),data:t,dataType:"json",headers:r})},e.post=function(e,t,o){return"function"==typeof t&&(o=t,t=null),window.FormData&&t instanceof FormData?i(o,{type:"POST",url:n(e),data:t,processData:!1,contentType:!1}):"object"==typeof t?i(o,{type:"POST",url:n(e),data:JSON.stringify(t),processData:!1,contentType:"application/json"}):i(o,{type:"POST",url:n(e),data:t})},e.delete=function(e,t,o){return"object"==typeof t?i(o,{type:"DELETE",url:n(e),data:JSON.stringify(t),processData:!1,contentType:"application/json"}):i(o,{type:"DELETE",url:n(e),data:t})},e.patch=function(e,t,o){return"object"==typeof t?i(o,{type:"PATCH",url:n(e),data:JSON.stringify(t),processData:!1,contentType:"application/json"}):i(o,{type:"PATCH",url:n(e),data:t,success:o})},e.put=function(e,t,o){return"object"==typeof t?i(o,{type:"PUT",url:n(e),data:JSON.stringify(t),processData:!1,contentType:"application/json"}):i(o,{type:"PUT",url:n(e),data:t})},e.buildCallback=function(e){var t={done:function(){},fail:function(){},always:function(){},nothing:function(){}};return"function"==typeof e?t.done=e:"object"==typeof e&&(t.done=e.done||t.done,t.fail=e.fail||t.fail,t.always=e.always||t.always,t.nothing=e.nothing||t.nothing),t},e}}),Bs.define("Bs.Template",{construct:function(){var e=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,t=["text/x-handlebars-template","text/x-handlebars","text/html"],n=function(t){if(e.constructor!==RegExp)throw new Error("not RegExp");var n=[],o=null;if(e.global)for(;o=e.exec(t);)n.push(o);else(o=e.exec(t))&&n.push(o);return n},o=function(e,t){var n,o=e.attr("id");o||(o=t),n=o.indexOf("Tpl")>-1?o.substring(0,o.indexOf("Tpl")):o,Handlebars.registerPartial(n,e.html())},i={};return i.cachedTpl={},i.load=function(e,t,n){var o=new $.Deferred;return $.get(e).done(function(e){Handlebars.templates[t]=Handlebars.compile(e),o.resolve()}).fail(function(){console.error('Template "'+t+'" cannot be loaded @ "'+e+'".')}),o},i.loadPartial=function(e,t,n){var o=new $.Deferred;return $.get(e).done(function(e){Handlebars.registerPartial(t,e),o.resolve()}).fail(function(){console.error('Partial "'+t+'" cannot be loaded @ "'+e+'".')}),o},i.registerLoadedTemplate=function(r,s,a){for(var l,p,u=n(r),d=r.replace(e,""),c=0;p=u[c];c++)if(l=$("<div></div>").html(p).find("script"),-1!==t.indexOf(l.attr("type"))){var f=l.attr("id");if(f){var h=f.indexOf("Tpl")>-1?f.substring(0,f.indexOf("Tpl")):f;Bs.View.compiledTpl[h]=Handlebars.compile(l.html())}}else"text/x-handlebars-partial"===l.attr("type")&&o(l,s);i.cachedTpl[s]=Handlebars.compile(d),a||Handlebars.registerPartial(s,d)},i}}),Bs.define("Bs.Collection",{require:"Bs.Model",construct:function(){var e=function(e,t,n){n=n||{},e.items=[],e.apiParams=$.extend(!0,{},t.apiParams,n.apiParams);for(var o in n)!1!==n.hasOwnProperty(o)&&("items"!==o?e[o]=n[o]:e.addList(n[o]))},t=function(e){this.initialize(e)};return t.pool={},t.prototype.items=[],t.prototype.itemsByPk={},t.prototype.nbInstances=0,t.prototype.id="collection",t.prototype.apiResource="",t.prototype.apiAction="list",t.prototype.apiParams=null,t.prototype.local=!0,t.prototype.pagination=null,t.prototype.cache=!1,t.prototype.model="",t.prototype.itemCount=0,t.prototype.nameAsAProperty="",t.prototype.type="collection",t.prototype.initialize=function(n){this.itemCount=0,this.id+="-"+ ++t.prototype.nbInstances,e(this,this,n)},t.prototype.getPagination=function(){return this.pagination},t.prototype.isNew=function(){return!0===this.local},t.prototype.setNew=function(e){return e=!!e,this.each(function(t){t.setNew(e)}),this.local=e,this},t.prototype.reset=function(){return this.items=[],this.itemCount=0,this},t.prototype.add=function(e){var t=this;if(e instanceof Bs.Model==!1){if(!t.model)throw new Error("Collection must have a model");e=Bs.create(t.model,e)}return t.collectionIndex=++t.itemCount,e.getCollection=function(){return t},e.index=t.collectionIndex,e.getIndex=function(){return this.index},t.items.push(e),e},t.prototype.replaceAt=function(e,t){var n=this;return t instanceof Bs.Model==!1&&(t=Bs.create(n.model,t)),t.getCollection=function(){return n},t.index=e,t.getIndex=function(){return this.index},n.items[e]=t,t},t.prototype.addList=function(e){if(!e)return this;for(var t,n=0;t=e[n];n++)t=this.add(t);return this},t.prototype.getAt=function(e){return this.items.hasOwnProperty(e)?this.items[e]:void 0},t.prototype.getAll=function(){return this.items},t.prototype.getLast=function(){if(0!==this.items.length)return this.items[this.items.length-1]},t.prototype.getFirst=function(){if(0!==this.items.length)return this.items[0]},t.prototype.setParam=function(e,t){return this.apiParams[e]=t,this},t.prototype.isInPool=function(){return this.buildSignature()in t.pool},t.prototype.addToPool=function(){t.pool[this.buildSignature()]=this},t.prototype.getFromPool=function(){return t.pool[this.buildSignature()]},t.prototype.buildSignature=function(){return this.id},t.prototype.fetch=function(e){var t,n,o=this,i=Bs.Api.buildCallback(e),r=i.done,s=(e=e||{}).page||1,a=e.limit||Bs.Collection.PAGE_SIZE,l=e.sort||!1,p=e.filter||!1,u=e.apiParams||o.apiParams,d=e.apiAction||o.apiAction,c=e.apiResource||o.apiResource,f=e.apiRoute||o.apiRoute;return i.done=function(e){o.cache&&o.addToPool(),o.reset(),o.local=!1,o.pagination=e.pagination();var t=e.getData();if(t&&"object"==typeof t)for(var i in t)if(!1!==t.hasOwnProperty(i)){var s=Bs.Model.buildSignature(o.model,t[i].id);Bs.Model.isInPool(s)?n=o.add(Bs.Model.getFromPool(s)):(n=o.add(t[i])).setInitialData(t[i])}r.call(o,e)},d=d?"/"+d:d,t=f||c+d,u=$.extend(!0,u,{page:s,limit:a}),u.sort=l||null,u.filter=p||null,Bs.Api.get(t,u,i)},t.prototype.hasValue=function(e,t){var n=this;for(var o in n.items)if(n.items.hasOwnProperty(o)&&n.items[o].get(t)===e)return!0;return!1},t.prototype.toObject=function(e){var t=[];return this.each(function(n){t.push(n.toObject(e))}),t},t.prototype.save=function(e){e=e||{};var t,n,o,i,r=this,s=[],a=[],l=[],p=Bs.Api.buildCallback(e),u=p.done,d=e.apiParams||{};if(r.each(function(e){e.isSuppressed()?!1===e.isNew()&&l.push(e.toObject()):e.isNew()?s.push(e.toObject()):e.isModified()&&a.push(e.toObject())}),p.done=function(e){a.length>0||l.length>0?r.each(function(t,n){if(t.pk.length>1)throw new Error("You must implement an auto-incremented PK or implement multiple PK handling for collection");for(var o,i=0;o=e.getData()[i];i++)o[t.pk[0]]===t.getPK(!0)&&r.replaceAt(n,o);t.modifiedFields=[],t.local=!1}):(r.reset(),r.addList(e.getData()),r.each(function(e){e.modifiedFields=[],e.local=!1})),u.call(r,e)},i=r.apiResource+"/"+r.apiAction,!s.length&&!a.length&&!l.length)return p.always(),void p.nothing();if(s.length){var c={list:s};c=$.extend(!0,c,d),n=Bs.Api.post(i,c)}else n=(new $.Deferred).resolve();if(a.length){var f={list:a};f=$.extend(!0,f,d),t=Bs.Api.patch(i,f)}else t=(new $.Deferred).resolve();if(l.length){var h={list:l};h=$.extend(!0,h,d),o=Bs.Api.delete(i,h)}else o=(new $.Deferred).resolve();$.when(n,t,o).then(function(e,t,n){var o;e?(t&&$.extend(!0,e[0].data,t[0].data),o=new Bs.Response(e[0])):o=new Bs.Response(t[0]),p.done(o),p.always(o)},function(){p.fail(),p.always()})},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.each=function(e){for(var t,n=this,o=0;(t=n.items[o])&&!1!==e(t,o);o++);},t.prototype.findFirstWhere=function(e,t,n){for(var o=this,i=0;o.items[i];i++)if(o.items[i].get(e)===t)return o.items[i];return null},t.prototype.count=function(){return this.items.length},t.prototype.getLength=function(){return this.items.length},t.prototype.removeFirstWhere=function(e,t,n){for(var o=this,i=0;o.items[i];i++)if(o.items[i].get(e)===t)return o.items.splice(i,1),i;return-1},t.prototype.remove=function(e){if(e.pk.length>1)throw new Error("Composed PK is not managed yet, sorry... :(");this.removeFirstWhere(e.pk[0],e.getPK()[0])},t.prototype.suppress=function(e){e.suppress()},t.prototype.restore=function(e){e.restore()},t.prototype.getNameAsAProperty=function(){return this.nameAsAProperty},t.prototype.toArray=function(){var e=[];return this.each(function(t){e.push(t.toObject())}),e},t.prototype.sortBy=function(e,t){this.items.sort(function(n,o){return n.get(e)>o.get(e)?t?-1:1:o.get(e)>n.get(e)?t?1:-1:0})},t.define=function(t,n,o){o=o||function(){};var i,r,s=this,a=function(){},l=function(){return s.apply(this,arguments)};l.define=s.define,a.prototype=s.prototype,l.prototype=new a,r=(i=(i=t.split("."))[i.length-1]).charAt(0).toLowerCase(),l.prototype.apiResource=r+i.substr(1),e(l.prototype,s.prototype,n);var p=t.split(".");return p=p[p.length-1],r=p.charAt(0).toLowerCase(),l.prototype.nameAsAProperty=r+p.substr(1),l.prototype.id=t.replace(/\./g,"-").toLowerCase(),o(l,[l.prototype.model]),l},t.create=function(e,n){(n=n||{}).extend="Bs.Collection";var o=t.define(e,n);if(!o.prototype.model)throw new Error("Collection must have a model");return Bs.register(e,o),new o},t}},function(){Bs.Collection.PAGE_SIZE=20}),Bs.define("Bs.DataBinder",{require:["Bs.Collection"],construct:function(){var e=["INPUT","SELECT","TEXTAREA"],t=function(){this.initialize&&this.initialize.apply(this,arguments)};t.prototype.view=null,t.prototype.autoBind=!0,t.prototype.bindAttribute="name",t.prototype.initialize=function(e){e=e||{};var t=this;if($.extend(this,e),null===t.view)throw new Error("You must create object with a view param");if(0===t.view.model.length)throw new Error("No model used by "+this.view.name);t.autoBind&&(t.view.isRendered()?t.bind():t.view.one("beforeDataBind",function(){t.bind()}))},t.prototype.modelToView=function(t,n){var o,i,r,s,a=this.view,l='[data-bind-model="'+t.getNameAsAProperty()+'"][data-bind-property="'+n+'"]';o=n in t&&"function"==typeof t[n]?t[n].call(t):t.get(n),(i=a.$el.find(l)).length&&i.each(function(){var t=$(this);r=this.tagName,s=t.attr("type"),e.indexOf(r)>-1?"radio"===s?t.filter('[value="'+o+'"]').prop("checked",!0):"checkbox"===s?t.prop("checked",o):"file"===s?t.val(""):t.val(o):i.data("bindAttr")?"class"===i.data("bindAttr")?t.toggleClass(o):t.attr(i.data("bindAttr"),o):i.data("bindHtml")?t.html(o):o&&t.text(o)})},t.prototype.bind=function(){var t=this,o=t.view,i=this.bindAttribute,r={},s="["+i+"], [data-bind]";o.$el.find(s).each(function(){var s,a=$(this);if(a.hasClass("dataBind"))return!0;var l=a.attr("data-bind")||a.attr(i);if(l?a.attr("data-bind",l):l=a.data("bind"),!l)return!0;var p=n(l,o);if(null===(s=p.model)||$.isEmptyObject(s))return!0;l=p.property,a.attr("data-bind-model",s.getNameAsAProperty()),a.attr("data-bind-property",l),a.addClass("dataBind"),!1===r.hasOwnProperty(s.getNameAsAProperty())&&(r[s.getNameAsAProperty()]=s),a.on("change",function(){var t,i=$(this),r=i.attr("data-bind"),a=i[0].tagName,l=$(i[0]).attr("type");if(e.indexOf(a)>-1)if("radio"===l){var p=i.attr("name");t=o.$el.find("input[name='"+p+"']").filter(":checked").val()}else t="checkbox"===l?i.prop("checked"):i.val();else t=i.html();var u=n(r,o);s=u.model,(r=u.property)in s&&"function"==typeof s[r]?s[r].call(s,t):s.set(r,t,!0)}),t.modelToView(s,l)});for(var a in r)if(!1!==r.hasOwnProperty(a)&&"set"in r[a]&&"object"==typeof r[a]){r[a].set;!function(e,n){r[a].set=function(e,n,o){return o=o||!1,this.constructor.prototype.set.call(this,e,n,o),o||t.modelToView(this,e),this},r[a].setInitialData=function(e){e=e||{},n.call(this,e);for(var o in e)e.hasOwnProperty(o)&&this.has(o)&&t.modelToView(this,o)}}(0,r[a].setInitialData)}};var n=function(e,t){var n,o;if(-1===e.indexOf("."))o=t.getModel();else{var i=e.split(".");e=i.pop(),n=i[0],null===(o=t.getModel(n))?o=t.getModel().get(i.join(".")):i.length>1&&(n=i[i.length-1],o=o.get(n))}return{model:o,property:e}};return t}}),Bs.define("Bs.Model",{require:["Bs.Api"],construct:function(){var e=function(e){return e.replace(/\./g,"-").toLowerCase()},t=function(){this.initialize&&this.initialize.apply(this,arguments)};t.pool={},t.prototype.nbInstances=0,t.prototype.className="",t.prototype.nameAsAProperty="",t.prototype.id="model",t.prototype.apiResource="",t.prototype.apiRoute=null,t.prototype.apiAction="",t.prototype.pk=["id"],t.prototype.autoIncrement=!0,t.prototype.relations={},t.prototype.local=!0,t.prototype.initializingData=!1,t.prototype.fields={},t.prototype.extraData={},t.prototype.fn={},t.prototype.modifiedFields=[],t.prototype.suppressed=!1,t.prototype.type="model",t.prototype.triggeredEvents=null,t.prototype.initialize=function(e){var n=this;n.fieldsDefault=$.extend({},n.fields),n.fields=$.extend({},n.fields),n.modifiedFields=[],n.initialData={},n.extraData={};for(var o in n.relations)if(n.relations.hasOwnProperty(o)&&!n.fields[o]){if("object"==typeof e&&null!==e&&"caller"in e&&n.relations[o]===e.caller)continue;n.setRelation(o,{caller:n.className})}n.setData(e),n.id+="-"+ ++t.prototype.nbInstances},t.prototype.has=function(e){return this.fields.hasOwnProperty(e)},t.prototype.get=function(e){if(e.indexOf(".")>0){var t=e.split(".");return this.getSubModel(t.shift(),t)}return this.has(e)?this.fields[e]:null},t.prototype.getSubModel=function(e,t){return e in this.relations?this.fields[e].get(t):"object"==typeof this.fields[e]?this.fields[e][t]:null},t.prototype.getPK=function(e){for(var t,n=[],o=0;t=this.pk[o];o++)n.push(this.get(t));return e?n.join("-"):n},t.prototype.isAutoIncrement=function(){return!0===this.autoIncrement};var n=function(e,t){var n=this;e.getParentRelation=function(){return n},e.getParentFieldName=function(){return t}};t.prototype.setRelation=function(e,t){var o=this.relations[e],i=this.fields[e];if(i&&!$.isEmptyObject(i)||(i=this.fields[e]=Bs.create(o,t),n.call(this,i,e)),t instanceof Bs.Collection||t instanceof Bs.Model)return this.isInitializingData()&&t.setNew(this.isNew()),this.fields[e]=t,this;if("collection"===i.type)return i.reset(),i.addList(t),this.isInitializingData()&&i.setNew(this.isNew()),this;if("model"===i.type)return i.setInitialData(t,!t||this.isNew()),this;throw new Error("[Bs.Model] Unknown relation type for '"+e+"' in '"+this.className+"'")},t.prototype.set=function(e,t){var n,o,i;if(!e||!1===this.has(e)||this.get(e)===t)return this;if("string"==typeof t&&(t=$.trim(t)),e.indexOf(".")>0){if(n=e.split("."),o=n.shift(),i=n,o in this.relations)return this.fields[o].set(i,t),this;this.fields[o]&&"object"==typeof this.fields[o]&&this.fields[o].hasOwnProperty(i)&&(this.fields[o][i]=t)}else e in this.relations?this.setRelation(e,t):this.fields[e]=t;if(!this.isInitializingData()&&!this.isNew()){var r=this.modifiedFields.indexOf(e);this.getInitial(e)===t?r>-1&&this.modifiedFields.splice(r,1):-1===r&&this.addModifiedField(e)}return this},t.prototype.addModifiedField=function(e){this.modifiedFields.push(e)},t.prototype.setData=function(e){e=e||{};for(var t in e)e.hasOwnProperty(t)&&this.has(t)&&this.set(t,e[t])},t.prototype.getSignature=function(){return e(this.className)+"-"+this.getPK(!0)},t.buildSignature=function(t,n){return e(t)+"-"+n},t.isInPool=function(e){return void 0!==t.pool[e]},t.getFromPool=function(e){return t.pool[e]},t.addToPool=function(e,n){return t.pool[e]=n},t.removeFromPool=function(e){t.isInPool&&delete t.pool[e]},t.getFromPoolOrFetch=function(e,n,o){var i,r=t.buildSignature(e,n);return o=o||function(){},t.isInPool(r)?(i=t.getFromPool(r),o.call(i,i),(new $.Deferred).resolve()):(i=Bs.create(e)).fetch({pk:n,done:function(){o.call(i,i)}})},t.prototype.setInitialData=function(e,t){e=e||{},this.modifiedFields=[],this.setNew(t),this.setInitializingData(!0);for(var n in e)e.hasOwnProperty(n)&&this.has(n)&&(this.initialData[n]=e[n],this.set(n,e[n]));this.setInitializingData(!1)},t.prototype.getInitial=function(e){return this.has(e)?this.initialData[e]:void 0},t.prototype.isNew=function(){return!0===this.local},t.prototype.setNew=function(e){return e=!!e,this.local=e,this},t.prototype.setInitializingData=function(e){return e=!!e,this.initializingData=e,this},t.prototype.isInitializingData=function(){return!0===this.initializingData},t.prototype.isModified=function(){return this.modifiedFields.length>0},t.prototype.isSuppressed=function(){return this.suppressed},t.prototype.suppress=function(){return this.suppressed=!0,this},t.prototype.restore=function(){return this.suppressed=!1,this},t.prototype.isModifiedField=function(e){return this.modifiedFields.indexOf(e)>-1},t.prototype.reset=function(){if(this.isNew())this.setData(this.fieldsDefault);else for(var e,t=0;e=this.modifiedFields[t];t++)this.set(e,this.getInitial(e));return this},t.prototype.fetch=function(e){var n,o,i,r,s,a,l,p,u=this;return e=e||{},n=Bs.Api.buildCallback(e),o=n.done,r=e.apiParams||null,s=e.apiAction||u.apiAction,a=e.apiRoute||u.apiRoute,l=e.apiResource||u.apiResource,p=e.pk||this.getPK(!0),n.done=function(e){var n=e.getData();n&&u.setInitialData(n),t.addToPool(u.getSignature(),u),o.call(u,e)},a?i=a||l+p+s:(s=s?"/"+s:s,i=l+(p=p?"/"+p:p)+s),Bs.Api.get(i,r,n)},t.prototype.delete=function(e){e=e||{};var n=this,o=Bs.Api.buildCallback(e),i=o.done,r=e.apiParams||null,s=e.apiAction||n.apiAction,a=e.apiResource||n.apiResource,l=e.pk||this.getPK(!0);o.done=function(e){n.setInitialData(e.getData(),!0),t.removeFromPool(n.getSignature(),n),i.call(n,e)},s=s?"/"+s:s,l=l?"/"+l:l,Bs.Api.delete(a+l+s,r,o)},t.prototype.save=function(e){e=e||{};var t,n=this,o=Bs.Api.buildCallback(e),i=o.done,r=e.apiParams||{},s=e.apiAction||n.apiAction,a=e.apiResource||n.apiResource,l=e.apiRoute||n.apiRoute;o.done=function(e){n.setInitialData(e.getData()),i.call(n,e)},s&&(s="/"+s);var p={};this.isNew()?(t=l||a+s,!1!==n.isAutoIncrement()||l||(t+="/"+this.getPK(!0)),p=$.extend(!0,{},this.toObject(),r),Bs.Api.post(t,p,o)):(t=l||a+"/"+this.getPK(!0)+s,n.isModified()?(p=$.extend(!0,{},this.toModifiedObject(),r),Bs.Api.patch(t,p,o)):e.force?Bs.Api.patch(t,r,o):(o.always(),o.nothing()))},t.prototype.setApiAction=function(e){return this.apiAction=e,this},t.prototype.toObject=function(e){var t,n=this,o={};for(var i in this.fields)this.fields.hasOwnProperty(i)&&(this.relations.hasOwnProperty(i)?(t=this.get(i),o[i]=t&&t.toObject&&t.toObject(e)||null):o[i]=this.get(i));if(e){var r={};for(var s in n.fn)n.fn.hasOwnProperty(s)&&function(e){r[e]=function(){return n.fn[e].apply(n,arguments)}}(s);$.extend(!0,o,this.getExtraData(),r)}return o},t.prototype.getExtraData=function(e){return e?this.extraData.hasOwnProperty(e)?this.extraData[e]:null:this.extraData},t.prototype.setExtraData=function(e,t){return this.extraData[e]=t,this},t.prototype.toModifiedObject=function(){for(var e,t,n={},o=0;t=this.modifiedFields[o];o++)this.relations.hasOwnProperty(t)?(e=this.get(t),n[t]=e&&e.toObject&&e.toObject()||null):n[t]=this.get(t);return n},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getClassName=function(){return this.className},t.prototype.getNameAsAProperty=function(){return this.nameAsAProperty},t.prototype.on=function(e,t){return t=t||function(){},this.triggeredEvents.hasOwnProperty(e)&&(t(null,this.triggeredEvents[e]),delete this.triggeredEvents[e]),$(this).on(e,t),this},t.prototype.off=function(e){return $(this).off(e),this},t.prototype.one=function(e,t){return t=t||function(){},this.triggeredEvents.hasOwnProperty(e)&&(t(null,this.triggeredEvents[e]),delete this.triggeredEvents[e]),$(this).one(e,t),this},t.prototype.trigger=function(e,t){return this.triggeredEvents[e]=t,$(this).triggerHandler(e,t),this};var o=function(e,t,n){e.fields=$.extend(!0,{},t.fields,n.fields),e.fn=$.extend(!0,{},t.fn,n.fn),e.relations=$.extend(!0,{},t.relations,n.relations),e.triggeredEvents={},n.fields=void 0,n.relations=void 0;for(var o in n)!1!==n.hasOwnProperty(o)&&void 0!==n[o]&&("function"==typeof n[o]&&(e.fn[o]=n[o]),e[o]=n[o]);e.modifiedFields=[],e.initialData={},e.pk=Bs.Util.arrayFromString(e.pk)};return t.define=function(t,n,i){i=i||function(){},n.fields=n.fields||{};var r,s=this,a=function(){},l=function(){return s.apply(this,arguments)};l.define=s.define,a.prototype=s.prototype,l.prototype=new a,o(l.prototype,s.prototype,n),l.prototype.id=e(t),l.prototype.className=t;var p=t.split("."),u=(p=p[p.length-1]).charAt(0).toLowerCase();l.prototype.nameAsAProperty=u+p.substr(1),n.apiResource?l.prototype.apiResource=n.apiResource:l.prototype.apiResource||(l.prototype.apiResource=l.prototype.nameAsAProperty),r=[];for(var d in l.prototype.relations)l.prototype.relations.hasOwnProperty(d)&&r.push(l.prototype.relations[d]);return i(l,r),l},t.create=function(e,n){return(n=n||{}).extend="Bs.Model",new(t.define(e,n))},t}}),Bs.define("Bs.Response",{construct:function(){var e=function(){this.initialize&&this.initialize.apply(this,arguments)};return e.prototype.response=null,e.prototype.getData=function(e){return null===this.response.data?null:e?this.response.data.hasOwnProperty(e)?this.response.data[e]:null:this.response.data},e.prototype.getTotal=function(){return this.response.total},e.prototype.getError=function(){return this.response.error},e.prototype.getErrorCode=function(){return parseInt(this.response.error.code)},e.prototype.getErrorMsg=function(){return this.response.error.msg},e.prototype.getErrorDescription=function(){return this.response.error.description},e.prototype.getDescription=function(){return this.response.description},e.prototype.getRequest=function(){return this.response.request},e.prototype.getSessionType=function(){return this.response.sessionType},e.prototype.hasComponent=function(){return""!==this.response.loadComponent},e.prototype.hasForkComponent=function(){return this.response.forkComponent},e.prototype.requireComponent=function(e){var t=this;e=e||function(){},t.response.hasOwnProperty("loadComponent")?Bs.require(t.response.loadComponent,function(){e(t.response.loadComponent)}):e(null,t.response,t.request)},e.prototype.hasError=function(){return!0!==this.response.success},e.prototype.dump=function(){console.log(this.response)},e.prototype.first=function(){return this.response.first},e.prototype.firstPage=function(){return this.response.firstPage},e.prototype.haveToPaginate=function(){return this.response.haveToPaginate},e.prototype.last=function(){return this.response.last},e.prototype.lastPage=function(){return this.response.lastPage},e.prototype.limit=function(){return this.response.limit},e.prototype.links=function(){return this.response.links},e.prototype.page=function(){return this.response.page},e.prototype.total=function(){return this.response.total},e.prototype.pagination=function(){return{first:this.response.first,firstPage:this.response.firstPage,haveToPaginate:this.response.haveToPaginate,last:this.response.last,lastPage:this.response.lastPage,limit:this.response.limit,links:this.response.links,page:this.response.page,total:this.response.total}},e.prototype.initialize=function(e){e=e||{};var t=this;t.response={action:"",apiVersion:"",data:{},method:"",resource:"",description:"",success:!1,error:{code:0,debug:null,description:"",msg:""},first:0,firstPage:0,haveToPaginate:!1,last:0,lastPage:0,limit:0,links:[],page:0,total:0,start:0,filter:{},sort:{},loadComponent:"",forkComponent:!1,request:{},sessionType:""};for(var n in e)e.hasOwnProperty(n)&&t.response.hasOwnProperty(n)&&(t.response[n]=e[n]);if(e.hasOwnProperty("error")&&"object"==typeof e.error){t.response.success=!("error"in e);for(var o in e.error)e.error.hasOwnProperty(o)&&t.response.error.hasOwnProperty(n)&&(t.response.error[n]=e.error[n])}else t.response.success=!0},e}}),Bs.define("Bs.Storage",{construct:function(){var e;return this.hasItem=function(t){return e.hasOwnProperty(t)},this.setItem=function(t,n){return e.setItem(t,JSON.stringify(n))},this.getItem=function(t){var n=e.getItem(t);return"undefined"==n?n:JSON.parse(n)},this.removeItem=function(t){return e.removeItem(t)},this.clear=function(){e.clear()},!0===function(){if("object"!=typeof localStorage)return!1;try{return localStorage.setItem("support","support"),"support"===localStorage.getItem("support")&&(localStorage.removeItem("support"),!0)}catch(e){return!1}}()?e=localStorage:(console.warn('Your device does not support localStorage. Some features will be disabled and you will need to sign in again if you reload the page. On iOS (iPhone, iPad) you can disable "Private browsing" in Safari to enable all the application features'),e=function(){function e(){this.store={}}return e.prototype.setItem=function(e,t){this.store[e]=t},e.prototype.getItem=function(e){return void 0!==this.store[e]?this.store[e]:null},e.prototype.removeItem=function(e){this.store[e]=void 0},e.prototype.clear=function(){this.store={}},e.prototype.hasOwnProperty=function(e){return this.store.hasOwnProperty(e)},new e}()),this}}),Bs.define("Bs.Stylesheet",{construct:function(){var e=0,t=[],n=document.getElementsByTagName("head")[0],o=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,i=!1,r=!0;o[1]||o[7]?i=parseInt(o[1])<6||parseInt(o[7])<=9:o[2]||o[8]?r=!1:o[4]&&(i=parseInt(o[4])<18);var s,a,l,p={},u=function(e){s=document.createElement("style"),n.appendChild(s),s.id="stylesheet-"+e,a=s.styleSheet||s.sheet},d=0,c=[],f=function(e,t){a.addImport(e),s.onload=function(){h()},31==++d&&(u(t),d=0)},h=function(){l();var e=c.shift();e?(l=e[1],f(e[0])):l=null},y=function(e,t,n){if(a&&a.addImport||u(t),a&&a.addImport)l?c.push([e,n]):(f(e,t),l=n);else{s.textContent='@import "'+e+'";';var o=setInterval(function(){try{s.sheet.cssRules,clearInterval(o),n()}catch(e){}},10)}},g=function(e,t,o){var i=document.createElement("link");if(i.id="stylesheet-"+t,i.type="text/css",i.rel="stylesheet",r)i.onload=function(){i.onload=function(){},setTimeout(o,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].href==i.href)return clearInterval(s),o()},10);i.href=e,n.appendChild(i)};return p.load=function(n){var o=new $.Deferred,r=t.indexOf(n);return r>-1&&$("#stylesheet-"+r).remove(),++e,t[e]=n,(i?y:g)(n,e,function(){o.resolve()}),o},p.unload=function(e){},p}}),Bs.define("Bs.View",{require:["Bs.Lang","Bs.Stylesheet","Bs.View.Loading"],construct:function(){var e=function(e){var n=this,o=function(){n.trigger("afterInitialize"),n.autoRender&&n.render()};t.call(n,e).then(function(){var t=n.initialize(e);t&&"then"in t?t.fail(function(){n.initializeFail.apply(n,arguments)}).then(function(){o()}):o()})};e.nbInstances=0,e.prototype.model=null,e.prototype.bindData=!1,e.prototype.modelPK=0,e.prototype.params={},e.prototype.options=null,e.prototype.elTag="div",e.prototype.elStyle=null,e.prototype.zIndex=0,e.prototype.id="view",e.prototype.name="View",e.prototype.fullCamelName="view",e.prototype.fileName="View",e.prototype.urlPath="View",e.prototype.urlRoot=Bs.getConfig().urlApp,e.prototype.renderTo="body",e.prototype.elClass="",e.prototype.tpl="",e.prototype.cachedPartials={},e.compiledTpl={},e.prototype.hasTemplate=!0,e.prototype.hasStylesheet=!0,e.prototype.hasTranslation=!0,e.prototype.stylesheetId=null,e.prototype.events={},e.prototype.autoRender=!0,e.prototype.autoMask=!0,e.prototype.rendered=!1,e.prototype.require=[],e.prototype.cssPath=null,e.prototype.templatePath=null,e.prototype.translationPath=null,e.prototype.subViewList=null,e.prototype.subViewOptions=null,e.prototype.buildPartialId=function(){return this.fullCamelName},e.prototype.getParam=function(e){var t=this;return t.params.hasOwnProperty(e)?t.params[e]:null},e.prototype.initializeFail=function(){var e=this;Bs.require("Bs.View.Alert",function(){Bs.View.Alert.error("",$(e.renderTo))})},e.prototype.getOption=function(e){var t=this;return t.options.hasOwnProperty(e)?t.options[e]:null},e.prototype.setOption=function(e,t){return this.options[e]=t,this},e.prototype.initialize=function(e){};var t=function(t){t=t||{};var n,o=this,r=[],s=new $.Deferred,a=new $.Deferred;++e.nbInstances,o.id+="-"+e.nbInstances,o.zIndex=e.nbInstances,i(o,o,t),o.options.id=o.id,Bs.storeCmp(o),o.$el=$("<"+o.elTag+" />",{id:o.id,class:o.elClass+" bs-view"}),o.elStyle&&o.$el.css(o.elStyle);for(var l in o.model)!1!==o.model.hasOwnProperty(l)&&"string"==typeof o.model[l]&&(l=Bs.Util.addPrefixIfMissing("Model",l),r.push(l),o.require.push(l));return o.require.length?Bs.require(o.require,function(){s.resolve()}):s.resolve(),$.when(s).then(function(){for(var e in o.model)if(!1!==o.model.hasOwnProperty(e)){if((n=o.model[e])instanceof Bs.Model==!1){var t=Bs.create(n);delete o.model[n],t.createdByView=!0,n=t}o.model[n.getNameAsAProperty()]=n}o.modelPK&&o.getModel().createdByView?$.when(o.fetchModel(o.modelPK)).then(function(){a.resolve()}):a.resolve()}),a};e.prototype.fetchModel=function(e,t){var n,o=this,i=new $.Deferred,r=Bs.Model.buildSignature(o.getModel().className,e);return!t&&Bs.Model.isInPool(r)?(n=Bs.Model.getFromPool(r),o.model[n.getNameAsAProperty()]=n,i.resolve()):o.getModel().fetch({pk:e,done:function(){i.resolve()},fail:function(){throw i.resolve(),Bs.View.Modal.Alert.Error("danger.msg.notFetched"),o.options.autoRender=!1,new Error("Unable to autoFetch model")}}),i},e.prototype.setModel=function(e){return this.model[e.getNameAsAProperty()]=e,this},e.prototype.on=function(e,t){return t=t||function(){},this.triggeredEvents.hasOwnProperty(e)&&(t(null,this.triggeredEvents[e]),delete this.triggeredEvents[e]),$(this).on(e,t),this},e.prototype.off=function(e){return $(this).off(e),this},e.prototype.one=function(e,t){return t=t||function(){},this.triggeredEvents.hasOwnProperty(e)&&(t(null,this.triggeredEvents[e]),delete this.triggeredEvents[e]),$(this).one(e,t),this},e.prototype.trigger=function(e,t){return this.triggeredEvents[e]=t,$(this).trigger(e,t),this},e.prototype.triggerHandler=function(e,t){return this.triggeredEvents[e]=t,$(this).triggerHandler(e,t),this},e.prototype.getModel=function(e){if(!e)for(var t in this.model){if(this.model.hasOwnProperty(t)){if("string"==typeof this.model[t])continue;return this.model[t]}return null}return this.model.hasOwnProperty(e)?this.model[e]:null},e.prototype.t=function(e,t){return Bs.Lang.t(this.translationPath+":"+e,t)},e.prototype.renderTpl=function(e,t,n){return this.renderCompiledTpl(e,t,n)},e.prototype.getPartial=function(e,t){var n,o,i=this,r=new $.Deferred;return t?t+="/tpl":t=i.tplPath,n=t+"/"+e,Handlebars.partials.hasOwnProperty(n)?r.resolve():(o=i.urlRoot+"/"+n+".partial",Bs.Template.loadPartial(o,n).then(function(){r.resolve()})),r.then(function(){if(!Handlebars.partials[n])throw Error('Partial "'+n+'" Not found')}),r},e.prototype.getTpl=function(e,t,n){var o,i,s=this,a=new $.Deferred,l=new $.Deferred;return n?n+="/tpl":n=s.tplPath,o=n+"/"+e,Handlebars.templates.hasOwnProperty(o)?a.resolve():(i=s.urlRoot+"/"+o+".handlebars",Bs.Template.load(i,o).then(function(){a.resolve()})),a.then(function(){if(t=t?p(t):{},!Handlebars.templates[o])throw Error('Template "'+o+'" Not found');r.call(s,Handlebars.templates[o](t),function(e){var t=Bs.Lang.translateAll($(e));l.resolve(t)})}),l},e.prototype.renderCompiledTpl=function(e,t,n){var o,i,s,a=this,l=new $.Deferred,u=new $.Deferred,d=a.tplPath+"/"+e;return Handlebars.templates.hasOwnProperty(d)?l.resolve():(s=a.urlRoot+"/"+a.tplPath+"/"+e+".handlebars",Bs.Template.load(s,d).then(function(){l.resolve()})),l.then(function(){if("function"==typeof t?(n=t,t={}):t=t?p(t):{},n=n||function(){},!(i=Handlebars.templates[d]))throw Error('Template "#'+e+'Tpl" not found in "'+a.name+'" view');return o=i(t),r.call(a,o,function(e){var t=Bs.Lang.translateAll($(e));n(t),u.resolve()})}),u},e.prototype.getTemplateHtml=function(e){var t,n=this;e=e||function(){},t="function"==typeof n.tpl?n.tpl(p(n.getTplData())):n.tpl,r.call(n,t,function(t){e(t)})};var n=function(e){var t=this,n=new $.Deferred;if(e=e||$(t.renderTo),t.isRendered())return console.warn('View "'+t.name+'" is already rendered'),n.resolve();if(0===e.length)throw console.info(e),new Error('View "'+t.name+'" cannot be rendered in renderTo element');return t.$el.appendTo(e),t.$el.attr("data-view",!0),t.$el.data("view",t),t.trigger("beforeRender"),t.autoMask&&t.mask(),t.getTemplateHtml(function(e){t.$el.append(e),t.addEvents(t.events),t.translate(),t.trigger("beforeCreateSubView"),t.createSubViews(function(){t.rendered=!0,t.bindData&&(t.trigger("beforeDataBind"),t.dataBinder=Bs.create("Bs.DataBinder",{view:t})),t.autoMask&&t.unmask(),n.resolve()})}),n};e.prototype.render=function(e){var t=this;return e&&(t.renderTo=$(e)),n.call(this,t.renderTo).then(function(){t.trigger("afterRender")})},e.prototype.reset=function(){var e=this;e.getTemplateHtml(function(t){e.$el.html(t),e.translate(),e.createSubViews(function(){e.rendered=!0,e.bindData&&(e.dataBinder=Bs.create("Bs.DataBinder",{view:e})),e.autoMask&&e.unmask(),e.afterRender()})})},e.prototype.translate=function(){var e=this;Bs.Lang.translateAll(e.$el)},e.prototype.createSubViews=function(e){e=e||function(){};var t,n,o,i,r=this,s=[],a=[],l=0;0!==(o=this.$el.find("[data-create]")).length?(o.each(function(e,o){if(t=$(o),!(n=t.data("create")))return!0;(i=r.getSubViewOptions(n)).renderTo=t,t.data("id")&&(i.id=t.data("id"));var l=t.data("model");l&&(i.model=!0===l?r.getModel():r.getModel().get(l));var p=t.data("modelpk");p&&(i.modelPK=p),"object"==typeof t.data("options")?a.push($.extend({},t.data("options"),i)):a.push(i),s.push(n)}),(l=s.length)?Bs.require(s,function(){for(var t,n,o=new $.Deferred,i=0;n=s[i];i++)(t=Bs.create(n,a[i])).on("afterRender",function(){0===--l&&o.resolve()}),r.subViewList[a[i].id||n]=t;$.when(o).then(function(){e()})}):e()):e()},e.prototype.getSubView=function(e){if(!e)for(var t in this.subViewList)if(!1!==this.subViewList.hasOwnProperty(t))return this.subViewList[t];return this.subViewList[e]},e.prototype.onafterRender=function(){},e.prototype.afterRender=function(){this.trigger("ready")},e.prototype.beforeRender=function(){},e.prototype.beforeDestroy=function(){},e.prototype.isRendered=function(){return!0===this.rendered},e.prototype.hide=function(e){},e.prototype.show=function(e){},e.prototype.triggeredEvents=null,e.prototype.mask=function(e,t){var n=this;return 0===(t=t?n.$el.find($(t)):n.$el).length?n:(t.find(".bs-view-loading").remove(),Bs.create("Bs.View.Loading",{text:e,renderTo:t}),n)},e.prototype.unmask=function(e,t,n){var o=this;return e=e?o.$el.find($(e)):o.$el,t?(e.find(".bs-view-loading").remove(),n&&n()):e.find(".bs-view-loading").fadeOut(function(){$(this).remove(),n&&n()}),o},e.prototype.close=function(){this.destroy()},e.prototype.destroy=function(e){var t,n=this;if(e=e||function(){},n.bindData){var o=n.getModel();"object"==typeof o&&null!==o&&o.isNew&&!1===o.isNew()&&o.reset()}n.isRendered()&&n.$el.find("[data-view]").each(function(){n===$(this).parent().closest("[data-view]").data("view")&&(t=$(this).data("view")).destroy.call(t)}),n.trigger("beforeDestroy"),n.isRendered()&&n.$el.remove(),Bs.removeCmp(n.id),n.off(),e(),n.trigger("afterDestroy")},e.prototype.formToObject=function(e){var t={},n=$(e).serializeArray();return $.each(n,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},e.prototype.validateForm=function(e,t){var n;return t.checkValidity?((n=t.checkValidity())||$('<input type="submit">').hide().appendTo($(t)).click().remove(),e.preventDefault(),n):(console.warn("checkValidity is not supported by browser, todo implement manual check"),e.preventDefault(),!0)},e.prototype.disableInputs=function(){this.$el.find(":input").prop("disabled",!0).addClass("disabled")},e.prototype.enableInputs=function(){this.$el.find(":input").prop("disabled",!1).removeClass("disabled")},e.prototype.selectText=function(e){var t,n;window.getSelection?(n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t)):document.body.createTextRange&&((t=document.body.createTextRange()).moveToElementText(e),t.select())},e.prototype.addEvents=function(e){var t,n,o,i,r,s=this;for(var a in e)if(e.hasOwnProperty(a)){if(o=e[a],t=a.substr(0,a.indexOf(" ")),n=a.substr(a.indexOf(" ")+1),"function"!=typeof(i="function"==typeof o?o:s[o]))throw console.warn("Unable to register function "+o),console.trace(),Error("Unable to register function "+o);t?r=this.$el:(t=n,n=null,r=$(this)),function(e,t,n,o,i){i.on(t,o,function(t){var o=$.extend(!0,[],arguments);o.push(this),n.apply(e,o)})}(s,t,i,n,r)}},e.prototype.getTplData=function(){return this.options},e.prototype.callParent=function(e,t){var n;o=o===this.extend?Bs.getClass(o).prototype.extend:this.extend;var i=Array.prototype.slice.call(arguments,1);return(n=Bs.getClass(o).prototype[e].apply(this,i))&&"then"in n?n.then(function(){o=null}):o=null,n},e.prototype.loadAdditionalScriptTemplate=function(e){var t=this;return e=e||t.urlRoot+"/"+t.urlPath+"/"+t.camelName+".handlebars",Bs.Template.load(e,t.fullCamelName,!0)},e.prototype.setSubViewOptions=function(e,t){var n=this;return n.subViewOptions[e]=t,n},e.prototype.getSubViewOptions=function(e){var t=this;return t.subViewOptions.hasOwnProperty(e)?t.subViewOptions[e]:{}},e.define=function(e,t,n){n=n||function(){};var o=this,r=function(){},p=function(){return o.apply(this,arguments)};p.define=o.define,r.prototype=o.prototype,p.prototype=new r,t.abstract&&(p.prototype.hasStylesheet=!1,p.prototype.hasTranslation=!1,p.prototype.hasTemplate=!1),i(p.prototype,o.prototype,t),p.prototype.name=e,p.prototype.fullCamelName=u(e),p.prototype.urlPath=p.prototype.name.replace(/\./g,"/"),p.prototype.id=p.prototype.name.replace(/\./g,"-").toLowerCase(),p.prototype.elClass+=" "+p.prototype.id;var d=p.prototype.name.split(".");p.prototype.fileName=d[d.length-1],p.prototype.urlRoot="Bs"===d[0]?Bs.getConfig().urlCore:Bs.getConfig().urlApp,p.prototype.tplPath=p.prototype.urlPath+"/tpl","inherit"===t.translationPath?p.prototype.translationPath=o.prototype.translationPath:p.prototype.translationPath=t.translationPath||p.prototype.urlPath;var c=p.prototype.fileName.charAt(0).toLowerCase();if(p.prototype.camelName=c+p.prototype.fileName.substr(1),"inherit"===t.cssPath?p.prototype.cssPath=o.prototype.cssPath:p.prototype.cssPath=t.cssPath||p.prototype.urlPath+"/"+p.prototype.camelName+".css","inherit"===t.tplPath&&(p.prototype.tplPath=o.prototype.tplPath),!Bs.isAsync()){var f;return"inherit"===t.templatePath?(p.prototype.templatePath=o.prototype.templatePath,f=o.prototype.urlPath+"/"+o.prototype.camelName):(p.prototype.templatePath=t.templatePath||p.prototype.urlPath+"/"+p.prototype.camelName+".handlebars",f=p.prototype.urlPath+"/"+p.prototype.camelName),p.prototype.hasTranslation=!0,p.prototype.hasTemplate=!0,p.prototype.hasStylesheet=!0,Handlebars.templates.hasOwnProperty(f)&&(p.prototype.tpl=Handlebars.templates[f]),p}var h;"inherit"===t.templatePath?(p.prototype.templatePath=o.prototype.templatePath,h=(new $.Deferred).resolve()):(p.prototype.templatePath=t.templatePath||p.prototype.urlPath+"/"+p.prototype.camelName+".handlebars",h=l.call(p.prototype));var y=a.call(p.prototype),g=s.call(p.prototype);$.when(y,h,g).then(function(){p.prototype.hasTranslation=!0,p.prototype.hasTemplate=!0,p.prototype.hasStylesheet=!0,n(p)})};var o=null,i=function(e,t,n){var o=$.extend({},n);"string"==typeof n.require&&(n.require=[n.require]),n.model=n.model||[],!1===$.isArray(n.model)&&(n.model=[n.model]),e.model=e.model?$.extend(!0,{},e.model):{};for(var i,r=0;i=n.model[r];r++)"object"==typeof i?e.model[i.className]=i:e.model[i]=i;e.data=$.extend(!0,{},t.data,n.data),e.params=$.extend(!0,{},t.params,n.params),e.options=$.extend(!0,{},t.options,n.options),e.events=$.extend(!0,{},t.events,n.events),e.require=Bs.Util.arrayUnion(t.require,n.require),e.triggeredEvents={},e.subViewList={},e.subViewOptions={},n.elClass&&(e.elClass+=" "+n.elClass),o.options=void 0,o.model=void 0,o.data=void 0,o.params=void 0,o.require=void 0,o.elClass=void 0;for(var s in o)!1!==o.hasOwnProperty(s)&&void 0!==o[s]&&"events"!==s&&(s in e.options?null!==o[s]&&$.isPlainObject(o[s])?e.options[s]=$.extend(!0,{},e.options[s],o[s]):e.options[s]=o[s]:e[s]=o[s])},r=function(e,t){t=t||function(){};var n,o,i=new $.Deferred,r=this,s=[],a="",l=$(e),p=$("<div/>").html(l);return!1===this.hasTranslation?(t(p.html()),i.resolve(),i):(p.find("[data-i18n]").each(function(){a="",n=$(this).attr("data-i18n").split(";");for(var e in n)if(n.hasOwnProperty(e))if(-1===n[e].indexOf(":")){var t=n[e];(o=t.indexOf("]"))>-1&&(o++,a=t.substring(0,o),t=t.substring(o));var i=a+r.translationPath+":"+t;e>0?$(this).attr("data-i18n",$(this).attr("data-i18n")+";"+i):$(this).attr("data-i18n",i)}else{var l=n[e].substring(0,n[e].indexOf(":"));(o=l.indexOf("]"))>-1&&(o++,a=l.substring(0,o),l=l.substring(o)),-1===s.indexOf(l)&&s.push(l)}}),s.length?Bs.Lang.loadNamespaces(s,function(){t(p.html()),i.resolve()}):(t(p.html()),i.resolve()),i)},s=function(){var e,t=this;return t.hasStylesheet?(e=t.urlRoot+"/"+t.cssPath,Bs.Stylesheet.load(e)):(new $.Deferred).resolve()},a=function(){var e=this,t=new $.Deferred;return e.hasTranslation?(Bs.Lang.loadNamespace(e.translationPath,e.urlRoot,function(){t.resolve()}),t):t.resolve()},l=function(){var e,t=this,n=t.urlPath+"/"+t.camelName,o=new $.Deferred;return t.hasTemplate?Handlebars.templates.hasOwnProperty(n)?(t.tpl=Handlebars.templates[n],o.resolve()):(e=t.urlRoot+"/"+t.templatePath,Bs.Template.load(e,t.urlPath+"/"+t.camelName).then(function(){t.tpl=Handlebars.templates[n],o.resolve()})):o.resolve(),o},p=function(e){var t;if(null===e)return e;if($.isArray(e))return e;if(e.toObject)return e.toObject(!0);t={};for(var n in e)!1!==e.hasOwnProperty(n)&&null!==e[n]&&("object"==typeof e[n]&&e[n].toObject?t[n]=e[n].toObject(!0):t[n]=e[n]);return t},u=function(e){var t=e.replace(/\.(.)/g,function(e,t){return t.toUpperCase()});return t.charAt(0).toLowerCase()+t.substr(1)};return e}}),Bs.define("Bs.View.Module",{extend:"Bs.View",hasTemplate:!1,hasTranslation:!1,hasStylesheet:!1,options:{request:null,response:null},getRequest:function(){return this.options.request},getResponse:function(){return this.options.response}}),Bs.define("Bs.View.Modal",{extend:"Bs.View",autoRender:!0,elClass:"bootstrap",hasTranslation:!1,autoMask:!1,options:{view:"",content:"",title:"",subTitle:"",icon:"",size:"",bodyPadding:!0,viewOptions:null,closable:!0,backdrop:"static"},beforeCreateSubView:function(){var e=this,t=e.$el.find(".modal");if(e.options.view){var n=$.extend(!0,{onbeforeDestroy:function(){t.modal("hide")},onafterInitialize:function(){this.one("ready",function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1})}},e.options.viewOptions);t.find(".view-content").attr("data-create",e.options.view).data("create",e.options.view).data("options",n)}else t.find(".view-content").html(e.options.content)},close:function(){$(window).off("resize",this.resize),this.$el.find(".modal").modal("hide")},resize:function(){this.$el.find(".view-content").css({height:$(window).height()-180})},afterRender:function(){var e=this,t=e.$el.find(".modal");""!==e.options.size&&t.find(".modal-dialog").addClass("modal-"+e.options.size),t.one("hidden.bs.modal",function(){e.destroy()}),t.find(".modal-title-main").html(e.options.title),t.find(".modal-title-sub").html(e.options.subTitle),t.find(".modal-icon").addClass(e.options.icon),t.one("shown.bs.modal",function(){for(var t in e.subViewList)e.subViewList.hasOwnProperty(t)&&e.subViewList[t].trigger("ready");e.$el.find(".view-content").find("input").first().focus().select(),$.fn.draggable&&$(e.$el.find(".modal-content")).draggable({handle:".modal-header"}),e.options.size===Bs.View.Modal.SIZE_MAX&&($(window).on("resize",$.proxy(e.resize,e)),e.resize()),e.trigger("ready")}),t.modal({backdrop:e.options.backdrop,keyboard:e.options.closable}).css({"z-index":1051+e.zIndex}),t.data("bs.modal").$backdrop.css({"z-index":1050+e.zIndex})},mask:function(e){return Bs.View.prototype.mask.call(this,e,this.$el.find(".modal-body"))},unmask:function(e,t){return Bs.View.prototype.unmask.call(this,this.$el.find(".modal-body"),e,t)},events:{"click .view-close":function(){this.$el.find(".modal").modal("hide")}}},function(){Bs.View.Modal.SIZE_SMALL="sm",Bs.View.Modal.SIZE_LARGE="lg",Bs.View.Modal.SIZE_MAX="max",Bs.View.Modal.SIZE_FULL_WIDTH="fullWidth",Bs.View.Modal.SIZE_DEFAULT=""}),Bs.define("Bs.View.Modal.Alert",{extend:"Bs.View.Modal",require:["Bs.View.Alert"],templatePath:"inherit",translationPath:"inherit",options:{type:"info",title:"info.title",msg:"",translate:!0},initialize:function(){var e=this;e.options.dismissible=!1,e.options.viewOptions=$.extend(!0,{},e.options),e.options.title=null,e.options.view="Bs.View.Alert"}},function(){Bs.View.Modal.Alert.errorPage=function(e,t){return $("body").empty().addClass("bootstrap"),new Bs.View.Modal.Alert({type:"danger",title:"danger.title",msg:e,translate:!t})},Bs.View.Modal.Alert.Error=function(e,t){return new Bs.View.Modal.Alert({type:"danger",title:"danger.title",msg:e,translate:!t})},Bs.View.Modal.Alert.Warning=function(e,t){return new Bs.View.Modal.Alert({type:"warning",title:"warning.title",msg:e,translate:!t})},Bs.View.Modal.Alert.Success=function(e,t){return new Bs.View.Modal.Alert({type:"success",title:"success.title",msg:e,translate:!t})},Bs.View.Modal.Alert.Info=function(e,t){return new Bs.View.Modal.Alert({type:"info",title:"info.title",msg:e,translate:!t})}}),Bs.define("Bs.View.Loading",{extend:"Bs.View",elClass:"bootstrap",hasTranslation:!1,options:{text:""},afterInitialize:function(){"object"==typeof this.options.text&&null!==this.options.text&&(this.options.text=this.options.text.html())},autoMask:!1,urlRoot:Bs.getConfig().urlCore}),Bs.define("Bs.View.Collection",{require:["Bs.Collection","Bs.View.Modal.Alert"],extend:"Bs.View",collection:null,collectionOptions:null,collectionCache:!1,itemView:"",viewOptions:null,items:null,itemsByPk:null,id:"ViewCollection",name:"ViewCollection",fileName:"Collection",path:"Collection",emptyCollectionView:"Bs.View.Collection.Empty",emptyCollectionTemplate:null,autoFetch:!1,hasTemplate:!1,hasTranslation:!1,hasStylesheet:!1,options:{preventReady:!1},data:{$elCollection:null,$elEmptyCollection:null},initialize:function(){var e=this,t=new $.Deferred,n=new $.Deferred,o=new $.Deferred,i=e.autoRender;if(e.items=[],e.itemsByPk={},e.autoRender=!1,"string"==typeof e.collection?Bs.require(Bs.Util.addPrefixIfMissing("Collection",e.collection),function(t){e.collection=t(e.collectionOptions),e.collectionCache&&(e.collection.cache=!0),n.resolve()}):n.resolve(),!e.itemView)throw new Error("No item view defined");return Bs.require(Bs.Util.addPrefixIfMissing("View",e.itemView),function(){o.resolve()}),$.when(n,o).then(function(){e.autoFetch?(e.bindData=!0,i?e.fetchAndRender().then(function(){t.resolve()}):e.getCollection().fetch({done:function(){t.resolve()}})):i?e.render().then(function(){t.resolve()}):t.resolve()}),t},fetchAndRender:function(e){var t=this,n=new $.Deferred;return e=e||{},$.extend(e,{done:function(){t.render().then(function(){n.resolve()})},fail:function(){throw t.destroy(),Bs.View.Modal.Alert.Error("danger.msg.notFetched"),new Error("Unable to autoFetch collection")}}),null!==t.getCollection()?t.collectionCache&&t.getCollection().isInPool()?(t.collection=t.getCollection().getFromPool(),t.render().then(function(){n.resolve()})):t.getCollection().fetch(e):t.render().then(function(){n.resolve()}),n},afterRender:function(){},render:function(){var e=this,t=e.bindData,n=new $.Deferred;return e.bindData=!1,Bs.View.prototype.render.call(e).then(function(){e.bindData=t,e.data.$elCollection=e.$el.find("[data-collection]"),e.data.$elEmptyCollection=e.$el.find("[data-empty-collection]"),e.data.$elCollection.length||(e.data.$elCollection=e.$el),e.data.$elEmptyCollection.length||(e.data.$elEmptyCollection=e.data.$elCollection),e.renderCollection().then(function(){if(n.resolve(),e.options.preventReady||e.trigger("ready"),e.bindData){var t=e.getCollection().add;e.collection.add=function(n){var o=t.call(e.collection,n);return e.rendered&&!1===o.isNew()&&e.renderOne(o),o};var o=e.getCollection().remove;e.collection.remove=function(t){return o.call(e.collection,t),e.renderCollection(),t}}})}),n},addItem:function(e){var t=this;return t.data.$elEmptyCollection&&t.getCollection().isEmpty()&&t.data.$elEmptyCollection.empty(),t.renderOne(t.getCollection().add(e))},addTmpItem:function(e,t){var n=Bs.create(this.getCollection().model,e),o=this.renderOne(n);return t?o.edit():o},renderOne:function(e){var t=this;t.viewOptions=t.viewOptions||{};var n=$.extend(!0,{},t.viewOptions,{bindData:t.bindData,renderTo:t.data.$elCollection,model:e,getCollection:function(){return t.getCollection()},getViewCollection:function(){return t},viewCollection:t}),o=Bs.create(Bs.Util.addPrefixIfMissing("View",t.itemView),n);return t.items.push(o),e&&"getPK"in e&&(t.itemsByPk[e.getPK(!0)]=o),o},renderEmptyCollection:function(e){var t=this;e=e||function(){},t.emptyCollectionTemplate?(t.data.$elEmptyCollection.html(t.emptyCollectionTemplate),t.translate(),e()):Bs.require(t.emptyCollectionView,function(n){new n({renderTo:t.data.$elEmptyCollection,options:{viewCollection:t},onready:function(){e()}})})},renderErrorCollection:function(e){var t=this;e=e||function(){},Bs.require("Bs.View.Collection.Error",function(n){new n({renderTo:t.data.$elEmptyCollection.empty(),options:{viewCollection:t},onready:function(){e()}})})},renderCollection:function(e){var t,n=this,o=new $.Deferred,i=0,r=0,s=function(e){var i;t.model=e,i=Bs.create(Bs.Util.addPrefixIfMissing("View",n.itemView),t),n.items.push(i),e&&"getPK"in e&&(n.itemsByPk[e.getPK(!0)]=i),i.on("ready",function(){o.notify(i)})};return e||(n.items=[],n.itemsByPk={},n.data.$elCollection.empty(),n.data.$elEmptyCollection.empty()),n.getCollection().isEmpty()&&(n.emptyCollectionView||n.emptyCollectionTemplate)?n.renderEmptyCollection(function(){o.resolve()}):(r=n.getCollection().getLength(),o.progress(function(){++i===r?o.resolve():s(n.getCollection().getAt(i))}),n.viewOptions=n.viewOptions||{},t=$.extend(!0,{},n.viewOptions,{bindData:n.bindData,renderTo:n.data.$elCollection,viewCollection:n,getCollection:function(){return n.getCollection()},getViewCollection:function(){return n}}),s(n.getCollection().getAt(0))),o},getCollection:function(){return this.collection},each:function(e){for(var t,n=this,o=0;t=n.items[o];o++)e(t,o)}}),Bs.define("Bs.View.Collection.Error",{extend:"Bs.View",hasStylesheet:!1,urlRoot:Bs.getConfig().urlCore,autoMask:!1}),Bs.define("Bs.View.Collection.Empty",{extend:"Bs.View",hasStylesheet:!1,urlRoot:Bs.getConfig().urlCore,autoMask:!1}),Bs.define("Bs.View.Collection.Item",{extend:"Bs.View",restoreView:"Bs.View.Collection.Item.Restore",editView:null,abstract:!0,restorable:!1,editable:!1,viewCollection:null,autoMask:!1,data:{$restoreEl:null},initialize:function(){var e=this,t=new $.Deferred;return null!==e.editView?Bs.require(e.editView,function(){t.resolve()}):t.resolve(),t},edit:function(){var e=this,t=$("<div></div>"),n=e.getModel(),o=Bs.create(e.editView,{renderTo:t,model:n,itemView:e});return o.on("afterRender",function(){e.$el.hide(),e.$el.after(o.$el)}),o},getTplData:function(){return this.getModel()},getViewCollection:function(){return this.viewCollection},delete:function(){var e=this;e.mask(),e.getModel().delete({done:function(){e.getViewCollection().getCollection().remove(this),e.unmask(),e.remove()},fail:function(){e.unmask(),Bs.require("Bs.View.Modal.Alert",function(){Bs.View.Modal.Alert.Error("danger.msg.notSaved")})}})},remove:function(){var e=this;e.getModel().suppress(),e.options.restorable=!1,e.options.restorable?(e.$restoreEl=e.$el,e.$el.css({position:"relative"}),Bs.require(e.restoreView,function(t){new t({renderTo:e.$el})})):e.$el.slideUp()},restore:function(){var e=this;e.options.restorable=!1,e.options.restorable||e.$el.slideDown()}}),Bs.define("Bs.View.Collection.Item.Edit",{extend:"Bs.View",hasTranslation:!1,hasStylesheet:!1,hasTemplate:!1,elTag:"tr",bindData:!0,itemView:null,cancel:function(){var e=this,t=e.getModel();t.reset(),e.destroy(),t.isNew()&&e.itemView.destroy(),e.itemView.$el.show(),e.afterAlways()},save:function(){var e=this,t=e.getModel(),n=t.isNew(),o=e.itemView.getViewCollection();e.disableInputs(),e.getModel().save({apiAction:"?useSlim=1",done:function(){n?o.addItem(t):e.itemView.$el.show().data("view").reset(),e.destroy(),e.afterDone(t)},fail:function(t){e.afterFailed(t)},always:function(){e.enableInputs(),e.afterAlways()}})},afterDone:function(e){Bs.View.Alert.Toast.success()},afterFailed:function(e){Bs.View.Alert.error(e.getErrorDescription())},afterAlways:function(){}}),Bs.define("Bs.View.Collection.Item.Restore",{extend:"Bs.View",hasTranslation:!1,hasStylesheet:!1,hasTemplate:!1,tpl:"<div>TODO</div>"}),Bs.define("Bs.View.Alert",{extend:"Bs.View",hasStylesheet:!1,autoMask:!1,elStyle:{position:"relative"},elClass:"bootstrap",options:{translate:!0,translateTitle:!0,icon:null,type:"info",title:null,hasTitle:!0,msg:null,view:null,viewOptions:null,dismissible:!0,autoDismissible:!1,delay:4e3},initialize:function(){var e=this;if(e.callParent("initialize"),e.options.title||("default"===e.options.type?e.options.hasTitle=!1:e.options.title=e.options.type+".title"),!e.options.icon)switch(e.options.type){case"danger":e.options.icon="fa fa-exclamation-circle";break;case"warning":e.options.icon="fa fa-exclamation-triangle";break;case"success":e.options.icon="fa fa-check";break;case"info":e.options.icon="fa fa-info-circle";break;default:e.options.icon="fa fa-"+e.options.type}"danger"===e.options.type&&(e.options.autoDismissible=!1),e.options.view?e.options.translate=!1:e.options.msg instanceof jQuery?(e.options.msg=$("<div></div>").html(e.options.msg).html(),e.options.translate=!1):$.isArray(e.options.msg)?e.options.msg=e.options.msg[0].urlPath+":"+e.options.msg[1]:e.options.msg||("success"===e.options.type?e.options.msg=Bs.Lang.t("success_"):e.options.msg=Bs.Lang.t("unknown_error")),$.isArray(e.options.title)&&(e.options.title=e.options.title[0].urlPath+":"+e.options.title[1])},render:function(){var e=this;e.callParent("render"),e.$el.hide(),e.options.view&&Bs.require(e.options.view,function(t){var n,o=e.options.viewOptions||{};o.renderTo=e.$el.find(".content"),n=new t(o),e.renderCallback(),n.on("close",function(){e.trigger("close")})}),e.renderCallback(),e.trigger("ready")},renderCallback:function(){var e=this;e.$el.slideDown(function(){e.trigger("shown"),e.$el.find(".alert-icon").fadeIn()}),e.options.autoDismissible&&setTimeout(function(){e.close()},e.options.delay)},close:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this;return t.$el.find(".alert-icon").hide(),this.$el.slideUp(function(){t.$el.remove()}),!1},events:{"click .close":"close"}},function(){Bs.View.Alert.error=function(e,t,n){return new Bs.View.Alert({type:"danger",title:"danger.title",msg:e||"danger.msg.default",renderTo:t||"body",translate:!n})},Bs.View.Alert.warning=function(e,t,n){return new Bs.View.Alert({type:"warning",title:"warning.title",msg:e,renderTo:t||"body",translate:!n})},Bs.View.Alert.success=function(e,t,n){return new Bs.View.Alert({type:"success",title:"success.title",msg:e||"success.msg.default",renderTo:t||"body",translate:!n})},Bs.View.Alert.info=function(e,t,n){return new Bs.View.Alert({type:"info",title:"info.title",msg:e,renderTo:t||"body",translate:!n})},Bs.View.Alert.apiProblem=function(e,t){return console.log(e),e&&null!==e&&e.status&&e.detail&&e.title?new Bs.View.Alert({type:e.status>=500?"danger":"warning",msg:e.detail,translate:!1,translateTitle:!1,title:e.title,delay:3e4,renderTo:t||"body"}):Bs.View.Alert.error(null,t)}}),Bs.define("Bs.View.Alert.Toast",{extend:"Bs.View.Alert",translationPath:"inherit",options:{single:!0},initialize:function(){var e,t,n=this;n.callParent("initialize"),0===(t=(e=$("body")).find("#toast-container")).length&&(t=$('<div id="toast-container"></div>').appendTo(e)),n.options.single&&t.empty(),this.renderTo=t,this.options.autoDismissible=!0}},function(){Bs.View.Alert.Toast.error=function(e,t){return new Bs.View.Alert.Toast({type:"danger",msg:e,translate:!t})},Bs.View.Alert.Toast.warning=function(e,t){return new Bs.View.Alert.Toast({type:"warning",msg:e,translate:!t})},Bs.View.Alert.Toast.success=function(e,t){return new Bs.View.Alert.Toast({type:"success",msg:e,translate:!t})},Bs.View.Alert.Toast.info=function(e,t){return new Bs.View.Alert.Toast({type:"info",msg:e,translate:!t})},Bs.View.Alert.Toast.default=function(e,t){return new Bs.View.Alert.Toast({type:"default",msg:e,translate:!t})},Bs.View.Alert.Toast.apiProblem=function(e){return e&&null!==e&&e.status&&e.detail&&e.title?new Bs.View.Alert.Toast({type:e.status>=500?"danger":"warning",msg:e.detail,translate:!1,translateTitle:!1,title:e.title,delay:3e4}):Bs.View.Alert.Toast.error(null)}}),Bs.define("Bs.Util.Browser",{construct:function(){var e,t=function(t){for(var n=0;n<t.length;n++){var o=t[n].string,i=t[n].prop;if(e=t[n].versionSearch||t[n].identity,o){if(-1!=o.indexOf(t[n].subString))return t[n].identity}else if(i)return t[n].identity}},n=function(t){var n=t.indexOf(e);if(-1!=n)return parseFloat(t.substring(n+e.length+1))},o=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv:"},{string:navigator.userAgent,subString:"Edge",identity:"Explorer",versionSearch:"Edge/"}],i=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],r=t(o)||"An unknown browser",s=n(navigator.userAgent)||n(navigator.appVersion)||"an unknown version",a=t(i)||"an unknown OS";return{isChrome:function(){return"Chrome"===r},isIE:function(){return"Explorer"===r},isIE6:function(e){return this.isIEVersion(6,e)},isIE7:function(e){return this.isIEVersion(7,e)},isIE8:function(e){return this.isIEVersion(8,e)},isIE9:function(e){return this.isIEVersion(9,e)},isIE10:function(e){return this.isIEVersion(10,e)},isIE11:function(e){return this.isIEVersion(11,e)},isIEVersion:function(e,t){return"Explorer"===r&&(t?s===e:s<=e)},getVersion:function(){return s},getOS:function(){return a}}}}),Bs.define("Bs.Util.CallbackBuilder",{construct:function(){var e=function(){this.callbackList={}};return e.prototype={callbackList:null,add:function(e,t){return e in this.callbackList||(this.callbackList[e]=[]),this.callbackList[e].push(t),this},getAll:function(){return this.callbackList}},e}}),Bs.define("Bs.Util.UrlParser",{construct:function(){var e=function(e){this.initialize&&this.initialize.call(this,e)};return e.prototype.protocol=null,e.prototype.hostname=null,e.prototype.host=null,e.prototype.port=null,e.prototype.hash=null,e.prototype.pathname=null,e.prototype.search=null,e.prototype.params=null,e.prototype.getParams=function(){return this.params},e.prototype.initialize=function(e){var t,n,o,i,r,s,a,l=this,p={},u=document.createElement("a"),d={url:window.location.href,unescape:!0,convert_num:!0};if("object"!=typeof e)e=d;else for(n in d)d.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=d[n]);if(u.href=e.url,a=u.search.substring(1),(t=a.split("&"))[0].length>1)for(o=0;o<t.length;o+=1)i=t[o].split("="),e.unescape?(r=decodeURI(i[0]),s=decodeURI(i[1])):(r=i[0],s=i[1]),e.convert_num&&(s.match(/^\d+$/)?s=parseInt(s,10):s.match(/^\d+\.\d+$/)&&(s=parseFloat(s))),void 0===p[r]?p[r]=s:"string"==typeof p[r]?p[r]=[p[r],s]:p[r].push(s),i=[];l.protocol=u.protocol,l.hostname=u.hostname,l.host=u.host,l.port=u.port,l.hash=u.hash.substr(1),l.pathname=u.pathname,l.search=u.search,l.params=p},e.prototype.get=function(e,t){return this.getParam(e,t)},e.prototype.getParam=function(e,t){var n=this;return t=t||null,n.params.hasOwnProperty(e)?n.params[e]:t},e.prototype.set=function(e,t){this.params[e]=t;var n=window.location.href,o=e+"="+t,i=n.replace(new RegExp("(&|\\?)"+e+"=[^&|#]*"),"$1"+o);return i===n&&(i=-1!=n.indexOf("?")?n.split("?")[0]+"?"+o+"&"+n.split("?")[1]:-1!=n.indexOf("#")?n.split("#")[0]+"?"+o+"#"+n.split("#")[1]:n+"?"+o),history.replaceState(null,null,i),this},e}},function(){var e=null,t=function(t){return t=t||{},e||(e=new Bs.Util.UrlParser(t))},n=function(){if(!e)throw Error("Initialization is not complete")};Bs.Util.UrlParser.initialize=function(e){t(e)},Bs.Util.UrlParser.getInstance=function(){return n(),e}}),Bs.Lang.addResourceBundle("en","Bs/View/Alert",{info:{title:"Information",msg:{nothing:"Nothing to modify"}},success:{title:"Finished",msg:{saved:"Saved",default:"Operation successful"}},warning:{title:"Warning"},danger:{title:"Error",msg:{notSaved:"Modifications not saved",notFetched:"Unexpected data received from server",default:"An error has occurred"}}}),Bs.Lang.addResourceBundle("en","Bs/View/Collection/Empty",{nothingToDisplay:"Nothing to display..."}),Bs.Lang.addResourceBundle("en","Bs/View/Collection/Error",{error:"Oops, something wrong happened there..."}),Bs.Lang.addResourceBundle("en","Bs/View/Modal",{}),Bs.Lang.addResourceBundle("fr","Bs/View/Alert",{info:{title:"Information",msg:{nothing:"Rien  modifier"}},success:{title:"Termin",msg:{saved:"Modification effectue",default:"Opration russie"}},warning:{title:"Attention"},danger:{title:"Erreur",msg:{notSaved:"Les modifications n'ont pas pu tre enregistres",notFetched:"Le serveur n'a pas renvoy les donnes attendues",default:"Une erreur est survenue"}}}),Bs.Lang.addResourceBundle("fr","Bs/View/Collection/Empty",{nothingToDisplay:"Rien  afficher pour le moment..."}),Bs.Lang.addResourceBundle("fr","Bs/View/Collection/Error",{error:"Oups, il y a eu un problme..."}),Bs.Lang.addResourceBundle("fr","Bs/View/Modal",{}),Bs.Lang.addResourceBundle("nl","Bs/View/Alert",{info:{title:"Informatie",msg:{nothing:"Niets te wijzigen"}},success:{title:"Klaar",msg:{saved:"Wijziging doorgevoerd",default:"Met succes uitgevoerd"}},warning:{title:"Waarschuwing"},danger:{title:"Fout",msg:{notSaved:"De wijzigingen konden niet opgeslagen worden",notFetched:"De server heeft de verwachte gegevens niet teruggestuurd",default:"Er is een fout opgetreden"}}}),Bs.Lang.addResourceBundle("nl","Bs/View/Collection/Empty",{nothingToDisplay:"Momenteel niets te tonen"}),Bs.Lang.addResourceBundle("nl","Bs/View/Collection/Error",{error:"Oops, something wrong happened there..."}),Bs.Lang.addResourceBundle("nl","Bs/View/Modal",{});